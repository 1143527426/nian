<!--´º½ÚµÆÁýµÆÁý´úÂë--><div class="meiha"></div><!-- µÆÁý1 --><div class="deng-box">        <div class="deng">                <div class="xian"></div>                <div class="deng-a">                        <div class="deng-b"><div class="deng-t">½Ú</div></div>                </div>                <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>        </div></div> <!-- µÆÁý2 --><div class="deng-box1">        <div class="deng">                <div class="xian"></div>                <div class="deng-a">                        <div class="deng-b"><div class="deng-t">´º</div></div>                </div>                <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>        </div></div><style>/** Ã·»¨Ê÷¿ªÊ¼ **/.meiha {        position: fixed;        top: 0;        right: 0;        z-index: 999;        width: 350px;/** PNGÍ¼¿í¶È **/        height: 231px;/** PNGÍ¼¸ß¶È **/        pointer-events: none;        background: url('https://cdn.qqsuu.cn/api/img/meihuashu.png');}/** Ã·»¨Ê÷½áÊø **/.deng-box {        position: fixed;        top: -40px;        right: 22200px;        z-index: 9999;        pointer-events: none;} .deng-box1 {        position: fixed;        top: -30px;        right: 10px;        z-index: 999;        pointer-events: none;}.deng-box1 .deng {        position: relative;        width: 120px;        height: 90px;        margin: 50px;        background: #d8000f;        background: rgba(216, 0, 15, 0.8);        border-radius: 50% 50%;        -webkit-transform-origin: 50% -100px;        -webkit-animation: swing 5s infinite ease-in-out;        box-shadow: -5px 5px 30px 4px rgba(252, 144, 61, 1);}.deng {        position: relative;        width: 120px;        height: 90px;        margin: 50px;        background: #d8000f;        background: rgba(216, 0, 15, 0.8);        border-radius: 50% 50%;        -webkit-transform-origin: 50% -100px;        -webkit-animation: swing 3s infinite ease-in-out;        box-shadow: -5px 5px 50px 4px rgba(250, 108, 0, 1);}.deng-a {        width: 100px;        height: 90px;        background: #d8000f;        background: rgba(216, 0, 15, 0.1);        margin: 12px 8px 8px 10px;        border-radius: 50% 50%;        border: 2px solid #dc8f03;}.deng-b {        width: 45px;        height: 90px;        background: #d8000f;        background: rgba(216, 0, 15, 0.1);        margin: -2px 8px 8px 26px;        border-radius: 50% 50%;        border: 2px solid #dc8f03;}.xian {        position: absolute;        top: -20px;        left: 60px;        width: 2px;        height: 20px;        background: #dc8f03;}.shui-a {        position: relative;        width: 5px;        height: 20px;        margin: -5px 0 0 59px;        -webkit-animation: swing 4s infinite ease-in-out;        -webkit-transform-origin: 50% -45px;        background: #ffa500;        border-radius: 0 0 5px 5px;}.shui-b {        position: absolute;        top: 14px;        left: -2px;        width: 10px;        height: 10px;        background: #dc8f03;        border-radius: 50%;}.shui-c {        position: absolute;        top: 18px;        left: -2px;        width: 10px;        height: 35px;        background: #ffa500;        border-radius: 0 0 0 5px;}.deng:before {        position: absolute;        top: -7px;        left: 29px;        height: 12px;        width: 60px;        content: " ";        display: block;        z-index: 999;        border-radius: 5px 5px 0 0;        border: solid 1px #dc8f03;        background: #ffa500;        background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03);}.deng:after {        position: absolute;        bottom: -7px;        left: 10px;        height: 12px;        width: 60px;        content: " ";        display: block;        margin-left: 20px;        border-radius: 0 0 5px 5px;        border: solid 1px #dc8f03;        background: #ffa500;        background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03);}.deng-t {        font-family: »ªÎÄÐÐ¿¬,Arial,Lucida Grande,Tahoma,sans-serif;        font-size: 3.2rem;        color: #dc8f03;        font-weight: bold;        line-height: 85px;        text-align: center;}.night .deng-t, .night .deng-box, .night .deng-box1 {        background: transparent !important;}@-moz-keyframes swing {        0% {                -moz-transform: rotate(-10deg)        }        50% {                -moz-transform: rotate(10deg)        }         100% {                -moz-transform: rotate(-10deg)        }}@-webkit-keyframes swing {        0% {                -webkit-transform: rotate(-10deg)        }        50% {                -webkit-transform: rotate(10deg)        }        100% {                -webkit-transform: rotate(-10deg)        }}</style>Á½²à? <div class="deng-box"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">´º½Ú</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div> <div class="deng-box1"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">鱼</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div>.deng-box {    position: fixed;    top: -30px;    left: 220px;    z-index: 9999;    pointer-events: none;} .deng-box1 {    position: fixed;    top: -30px;    right: 222px;    z-index: 9999;    pointer-events: none;}
<--QQ号:1143527426-->
<!doctype html>
<html lang="en">
 <head>
 <a href="https://qm.qq.com/cgi-bin/qm/qr?k=BZ40KLux2A7_mNMDe8qC6n9FgZVlhj7a&noverify=0&personal_qrcode_source=4 poster=" style="position:fixed;right:800px;font-size:30px;">联系作者</a>
  <meta charset="UTF-112">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
html,body{
  margin:0px;
  width:100%;
  height:100%;
  overflow:hidden;
  background:#000;
}

#canvas{
  width:100%;
  height:100%;
}

  </style>
 
 </head>
<canvas id="canvas"></canvas>
   <script>
 function initVars(){

  pi=Math.PI;
  ctx=canvas.getContext("2d");
  canvas.width=canvas.clientWidth;
  canvas.height=canvas.clientHeight;
  cx=canvas.width/2;
  cy=canvas.height/2;
  playerZ=-25;
  playerX=playerY=playerVX=playerVY=playerVZ=pitch=yaw=pitchV=yawV=0;
  scale=600;
  seedTimer=0;seedInterval=5,seedLife=100;gravity=.02;
  seeds=new Array();
  sparkPics=new Array();
  s="https://cantelope.org/NYE/";
  for(i=1;i<=10;++i){
    sparkPic=new Image();
    sparkPic.src=s+"spark"+i+".png";
    sparkPics.push(sparkPic);
  }
  sparks=new Array();
  pow1=new Audio(s+"pow1.ogg");
  pow2=new Audio(s+"pow2.ogg");
  pow3=new Audio(s+"pow3.ogg");
  pow4=new Audio(s+"pow4.ogg");
  frames = 0;
}

function rasterizePoint(x,y,z){

  var p,d;
  x-=playerX;
  y-=playerY;
  z-=playerZ;
  p=Math.atan2(x,z);
  d=Math.sqrt(x*x+z*z);
  x=Math.sin(p-yaw)*d;
  z=Math.cos(p-yaw)*d;
  p=Math.atan2(y,z);
  d=Math.sqrt(y*y+z*z);
  y=Math.sin(p-pitch)*d;
  z=Math.cos(p-pitch)*d;
  var rx1=-1000,ry1=1,rx2=1000,ry2=1,rx3=0,ry3=0,rx4=x,ry4=z,uc=(ry4-ry3)*(rx2-rx1)-(rx4-rx3)*(ry2-ry1);
  if(!uc) return {x:0,y:0,d:-1};
  var ua=((rx4-rx3)*(ry1-ry3)-(ry4-ry3)*(rx1-rx3))/uc;
  var ub=((rx2-rx1)*(ry1-ry3)-(ry2-ry1)*(rx1-rx3))/uc;
  if(!z)z=.000000001;
  if(ua>0&&ua<1&&ub>0&&ub<1){
    return {
      x:cx+(rx1+ua*(rx2-rx1))*scale,
      y:cy+y/z*scale,
      d:Math.sqrt(x*x+y*y+z*z)
    };
  }else{
    return {
      x:cx+(rx1+ua*(rx2-rx1))*scale,
      y:cy+y/z*scale,
      d:-1
    };
  }
}

function spawnSeed(){
  
  seed=new Object();
  seed.x=-50+Math.random()*100;
  seed.y=25;
  seed.z=-50+Math.random()*100;
  seed.vx=.1-Math.random()*.2;
  seed.vy=-1.5;//*(1+Math.random()/2);
  seed.vz=.1-Math.random()*.2;
  seed.born=frames;
  seeds.push(seed);
}

function splode(x,y,z){
  
  t=5+parseInt(Math.random()*150);
  sparkV=1+Math.random()*2.5;
  type=parseInt(Math.random()*3);
  switch(type){
    case 0:
      pic1=parseInt(Math.random()*10);
      break;
    case 1:
      pic1=parseInt(Math.random()*10);
      do{ pic2=parseInt(Math.random()*10); }while(pic2==pic1);
      break;
    case 2:
      pic1=parseInt(Math.random()*10);
      do{ pic2=parseInt(Math.random()*10); }while(pic2==pic1);
      do{ pic3=parseInt(Math.random()*10); }while(pic3==pic1 || pic3==pic2);
      break;
  }
  for(m=1;m<t;++m){
    spark=new Object();
    spark.x=x; spark.y=y; spark.z=z;
    p1=pi*2*Math.random();
    p2=pi*Math.random();
    v=sparkV*(1+Math.random()/6)
    spark.vx=Math.sin(p1)*Math.sin(p2)*v;
    spark.vz=Math.cos(p1)*Math.sin(p2)*v;
    spark.vy=Math.cos(p2)*v;
    switch(type){
      case 0: spark.img=sparkPics[pic1]; break;
      case 1:
        spark.img=sparkPics[parseInt(Math.random()*2)?pic1:pic2];
        break;
      case 2:
        switch(parseInt(Math.random()*3)){
          case 0: spark.img=sparkPics[pic1]; break;
          case 1: spark.img=sparkPics[pic2]; break;
          case 2: spark.img=sparkPics[pic3]; break;
        }
        break;
    }
    spark.radius=25+Math.random()*50;
    spark.alpha=1;
    spark.trail=new Array();
    sparks.push(spark);
  }
  pow = new Audio(`${s}pow${~~(Math.random()*4)}.ogg`); 
  // switch(parseInt(Math.random()*4)){

  //   case 0: pow=new Audio(s+"pow1.ogg"); break;
  //   case 1: pow=new Audio(s+"pow2.ogg"); break;
  //   case 2: pow=new Audio(s+"pow3.ogg"); break;
  //   case 3: pow=new Audio(s+"pow4.ogg"); break;
  // }
  d=Math.sqrt((x-playerX)*(x-playerX)+(y-playerY)*(y-playerY)+(z-playerZ)*(z-playerZ));
  pow.volume=1.5/(1+d/10);
  pow.play();
}

function doLogic(){
  
  if(seedTimer<frames){
    seedTimer=frames+seedInterval*Math.random()*10;
    spawnSeed();
  }
  for(i=0;i<seeds.length;++i){
    seeds[i].vy+=gravity;
    seeds[i].x+=seeds[i].vx;
    seeds[i].y+=seeds[i].vy;
    seeds[i].z+=seeds[i].vz;
    if(frames-seeds[i].born>seedLife){
      sp
